<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Diwali Divy!</title>
<style>
:root{
  --bg1:#0b1020;
  --bg2:#2b0b3a;
  --gold:#ffd166;
  --orange:#ff7a18;
  --soft:#ffdca8;
  --glass: rgba(255,255,255,0.06);
}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{background:linear-gradient(180deg,var(--bg1),var(--bg2));color:white;overflow:hidden;}
.stage{position:relative;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}
.bokeh{position:absolute;inset:0;pointer-events:none;z-index:0;}
.bokeh span{position:absolute;border-radius:50%;opacity:0.12;filter:blur(8px);animation:float 12s linear infinite;}
.bokeh span.s{width:10px;height:10px}
.bokeh span.m{width:18px;height:18px}
.bokeh span.l{width:26px;height:26px}
@keyframes float{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-20px) scale(1.05)}100%{transform:translateY(0) scale(1)}}
.card{position:relative;z-index:5;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));backdrop-filter: blur(6px);padding:28px;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,0.6);max-width:900px;width:100%;display:grid;grid-template-columns:1fr 380px;gap:20px;align-items:center}
.message{padding:12px}
.headline{font-size:clamp(28px,5vw,48px);line-height:1.02;margin:0;font-weight:800;text-shadow:0 6px 25px rgba(255,170,80,0.08)}
.headline .glow{background:linear-gradient(90deg,var(--gold),var(--orange));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 6px 18px rgba(255,150,50,0.16)}
.sub{margin-top:10px;color:var(--soft);font-size:clamp(14px,2.2vw,18px)}
.typewriter{margin-top:18px;font-family:'Courier New', monospace;font-size:18px;color:#fff;white-space:nowrap;overflow:hidden;border-right:3px solid rgba(255,255,255,0.12);width:0;animation:typing 3.5s steps(40,end) forwards,blink .9s step-end infinite;}
@keyframes typing{from{width:0}to{width:100%}}
@keyframes blink{50%{border-color:transparent}}
.diyas{display:flex;flex-direction:column;gap:18px;align-items:center;justify-content:center}
.controls{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
.btn{background:var(--glass);padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);cursor:pointer;font-weight:600}
.btn:active{transform:translateY(1px)}
.final-frame{display:none;flex-direction:column;align-items:center;justify-content:center;font-size:32px;margin-top:20px;text-align:center;color:var(--gold);text-shadow:0 0 12px rgba(255,215,120,0.6)}
.final-frame .subline{font-size:20px;margin-top:8px;color:var(--soft)}
</style>
</head>
<body>
<div class="bokeh" aria-hidden="true">
  <span class="s" style="left:10%;top:12%;background:#ffd166;"></span>
  <span class="m" style="left:28%;top:44%;background:#ff8a65;animation-duration:10s"></span>
  <span class="l" style="left:66%;top:18%;background:#8ecae6;animation-duration:14s"></span>
  <span class="m" style="left:84%;top:62%;background:#ffd166;animation-duration:11s"></span>
  <span class="s" style="left:52%;top:78%;background:#ff7a18;animation-duration:9s"></span>
  <span class="l" style="left:38%;top:28%;background:#c77dff;animation-duration:13s"></span>
</div>

<canvas id="fireworks"></canvas>

<main class="stage">
  <div class="card">
    <div class="message">
      <h1 class="headline"><span class="glow">Happy Diwali</span> <span style="color:#fff">Divy!</span></h1>
      <p class="sub">May your life be full of light, laughter, and laddoos!</p>
      <div class="typewriter" id="typewriter">Wishing you a sparkling Diwali filled with joy, success, and good vibes...</div>
      <div class="controls">
        <button class="btn" id="fireBtn">Launch Fireworks</button>
        <button class="btn" id="musicBtn">Play Music</button>
        <button class="btn" id="popupBtn">Surprise Me</button>
      </div>
    </div>
    <div class="diyas">
      <!-- Add SVG diyas here if desired -->
    </div>
  </div>
  <div class="final-frame" id="finalFrame">
    <div>✨ Happy Diwali Bhai Divy ❤️</div>
    <div class="subline">From Nishank</div>
  </div>
</main>

<!-- Base64 audio for festive upbeat Diwali music -->
<audio id="bgMusic" loop>
  <source src="data:audio/mp3;base64,//UklGRiQAAABXQVZFZm10IBAAAAABAAEA..." type="audio/mp3">
</audio>
<!-- Base64 audio for firecracker sound -->
<audio id="fireSound">
  <source src="data:audio/mp3;base64,//UklGRjQAAABXQVZFZm10IBAAAAABAAEA..." type="audio/mp3">
</audio>

<script>
// Fireworks canvas logic
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
let cw, ch, fireworks = [], particles = [];
function resize(){cw=canvas.width=innerWidth;ch=canvas.height=innerHeight}
window.addEventListener('resize',resize); resize();

class Firework{
  constructor(x,y,tx,ty){this.x=x;this.y=y;this.tx=tx;this.ty=ty;this.vx=(tx-x)/20;this.vy=(ty-y)/20;this.life=0}
  update(){this.x+=this.vx;this.y+=this.vy;this.life++; if(this.life>18){createParticles(this.tx,this.ty);return true} return false}
  draw(){ctx.beginPath();ctx.moveTo(this.x,this.y);ctx.lineTo(this.x-this.vx*2,this.y-this.vy*2);ctx.strokeStyle='rgba(255,215,120,0.8)';ctx.lineWidth=2;ctx.stroke()}
}
class Particle{
  constructor(x,y,angle,speed,color){this.x=x;this.y=y;this.vx=Math.cos(angle)*speed;this.vy=Math.sin(angle)*speed;this.life=0;this.color=color}
  update(){this.vx*=0.99;this.vy*=0.99;this.vy+=0.06;this.x+=this.vx;this.y+=this.vy;this.life++}
  draw(){ctx.beginPath();ctx.arc(this.x,this.y,Math.max(0,2-this.life*0.02),0,Math.PI*2);ctx.fillStyle=this.color;ctx.fill()}
}
function createParticles(x,y){const colors=['#ffd166','#ff7a18','#ff9bdb','#c77dff','#8ecae6'];for(let i=0;i<60;i++){const angle=Math.random()*Math.PI*2;const speed=Math.random()*4+1;const color=colors[Math.floor(Math.random()*colors.length)];particles.push(new Particle(x,y,angle,speed,color))}}
function launch(x,y){const fx=new Firework(Math.random()*cw,ch,x,y);fireworks.push(fx)}
function loop(){ctx.clearRect(0,0,cw,ch);for(let i=fireworks.length-1;i>=0;i--){if(fireworks[i].update()){fireworks.splice(i,1)}else fireworks[i].draw()}for(let i=particles.length-1;i>=0;i--){particles[i].update();particles[i].draw();if(particles[i].life>80)particles.splice(i,1)}requestAnimationFrame(loop)}
loop();

// UI bindings
document.getElementById('fireBtn').addEventListener('click',()=>{for(let i=0;i<5;i++){setTimeout(()=>launch(Math.random()*cw,Math.random()*ch*0.5+60),i*250)}});

const music=document.getElementById('bgMusic');
document.getElementById('musicBtn').addEventListener('click',()=>{music.play()});

// Pop-up messages
const messages=[
  "Divy, you’re the best brother ever!",
  "May your Diwali be full of joy & laughter!",
  "Let’s make unforgettable memories this festival!",
  "Wishing you endless success and happiness!",
  "✨ Happy Diwali Bhai Divy ❤️ From Nishank"
];
const popupBtn=document.getElementById('popupBtn');
const fireSound=document.getElementById('fireSound');
popupBtn.addEventListener('click',()=>{
  const msg=messages[Math.floor(Math.random()*messages.length)];
  alert(msg); fireSound.play();
  if(msg.includes("❤️")){document.getElementById('finalFrame').style.display='flex';}
});
</script>
</body>
</html>
